#root {
    max-width: 1280px;
    margin: 0 auto;
    text-align: center;
}

/* remove the blue blinking highlight on click event on mobile */
* {
    -webkit-tap-highlight-color: transparent;
}

:root {
    --size-cell: min(10.5vh, 12vw);

    --size-board-border: calc(var(--size-cell) * 0.125);
    --size-board-outline: calc(var(--size-cell) * 0.05);
    --size-board-shadow: calc(var(--size-checker) * 0.5);

    --size-checker: calc(var(--size-cell) * 0.8);
    --size-checker-core: calc(var(--size-checker) * 0.6);
    --size-checker-outline: calc(var(--size-cell) * 0.05);
    --size-checker-shadow: calc(var(--size-checker) * 0.3);

    --time-transition-shadow: 0.2s;

    --color-cell-bg-dark: rgb(124, 104, 98);
    --color-cell-bg-bright: rgb(179, 161, 161);

    --color-black-body: rgb(27, 20, 20);
    --color-black-core: rgb(39, 29, 29);
    --color-black-outline: rgb(56, 49, 49);

    --color-white-body: rgb(77, 71, 64);
    --color-white-core: rgb(97, 85, 76);
    --color-white-outline: rgb(37, 35, 30);

    --color-checker-core-king: rgb(117, 70, 70);

    --color-checker-shadow-active: rgb(235, 235, 185);
    --color-checker-shadow-attack: rgb(219, 89, 89);
    --color-checker-shadow-available: rgb(191, 235, 185);

    --color-board-border: rgb(105, 87, 62);
    --color-board-outline: rgb(82, 54, 54);

    --color-menu-item: rgb(48, 35, 35);
}

body {
    overflow: hidden;
    background-image: url("/wood-texture.png");
    background-size: contain;
    filter: saturate(70%);
}

.menu {
    --indent: 10px;

    z-index: 3;

    position: absolute;
    left: var(--indent);
    top: var(--indent);

    display: flex;
    flex-direction: column;
    gap: var(--indent);
}

.menu-button {
    text-align: left;
    background-color: var(--color-menu-item);
    padding: 0.2em 0.4em;
    border-radius: 3px;
    font-size: 1rem;
}

.menu-select {
    background-color: var(--color-menu-item);
    padding: 0.2em 0.4em;
    border-radius: 3px;
    font-size: 1rem;
}

.board {
    position: relative;
    display: grid;
    grid-template-columns: repeat(8, 1fr);

    border: var(--size-board-border) solid var(--color-board-border);
    outline: var(--size-board-outline) solid var(--color-board-outline);
    box-shadow: 0 0 var(--size-board-shadow) black;
}

.board::before {
    pointer-events: none;
    z-index: 1;
    position: absolute;
    content: "";
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    transform: rotate(90deg);
    opacity: 0.23;

    background-image: url("/wood-texture-alpha.png");
    background-size: contain;
}

.board-inverse {
    transform: rotate(180deg);
}

.board-90 {
    transform: rotate(90deg);
}

.cell {
    position: relative;
    background-color: var(--color-cell-bg-dark);

    width: var(--size-cell);
    height: var(--size-cell);

    font-size: calc(var(--size-cell) * 0.18);
    color: rgb(46, 233, 62);
    text-align: left;
    user-select: none;
    line-height: 0.7;
}

.cell::before,
.cell::after {
    transition: box-shadow var(--time-transition-shadow) ease;
}

.dark {
    background-color: var(--color-cell-bg-dark);
}

.light {
    background-color: var(--color-cell-bg-bright);
}

.checker::before,
.checker::after {
    z-index: 2;
    position: absolute;
    content: "";
    border-radius: 50%;
}

.checker::after {
    opacity: 0.7;
}

.checker::before {
    background-size: contain;

    width: var(--size-checker);
    height: var(--size-checker);

    top: calc(var(--size-cell) / 2 - var(--size-checker) / 2);
    left: calc(var(--size-cell) / 2 - var(--size-checker) / 2);

    box-shadow: 0 0 var(--size-checker-shadow) black;
}

.checker::after {
    width: var(--size-checker-core);
    height: var(--size-checker-core);

    top: calc(var(--size-cell) / 2 - var(--size-checker-core) / 2);
    left: calc(var(--size-cell) / 2 - var(--size-checker-core) / 2);

    box-shadow: inset 0 0 calc(var(--size-checker-shadow) * 0.4) black;
}

.black::before {
    background-image: url("/checker-texture-black.png");

    background-color: var(--color-black-body);
    outline: var(--size-checker-outline) solid var(--color-white-outline);
}

.black::after {
    background-color: var(--color-black-core);
    outline: var(--size-checker-outline) solid var(--color-black-outline);
}

.white::before {
    background-image: url("/checker-texture-white.png");

    background-color: var(--color-white-body);
    outline: var(--size-checker-outline) solid var(--color-white-outline);
}

.white::after {
    background-color: var(--color-white-core);
    outline: var(--size-checker-outline) solid var(--color-white-outline);
}

.movable:hover::before {
    box-shadow: 0 0 var(--size-checker-shadow)
        var(--color-checker-shadow-available);
}

.movable:active::before {
    box-shadow: 0 0 var(--size-checker-shadow)
        var(--color-checker-shadow-active);
}

.active::before {
    box-shadow: 0 0 var(--size-checker-shadow)
        var(--color-checker-shadow-active);
}

.king::after {
    background-color: var(--color-checker-core-king);
}

.field-to-move {
    cursor: pointer;
}

.field-to-move::before {
    position: absolute;
    content: "";
    border-radius: 50%;

    width: var(--size-checker);
    height: var(--size-checker);

    top: calc(var(--size-cell) / 2 - var(--size-checker) / 2);
    left: calc(var(--size-cell) / 2 - var(--size-checker) / 2);

    background-color: transparent;
    box-shadow: 0 0 var(--size-checker-shadow)
        var(--color-checker-shadow-available);
}

.under-attack::before {
    box-shadow: 0 0 var(--size-checker-shadow)
        var(--color-checker-shadow-attack);
}

.controversial::before {
    box-shadow: 0 0 var(--size-checker-shadow) rgb(0, 98, 128) !important;
}

.controversial-hover::before {
    box-shadow: 0 0 var(--size-checker-shadow) rgb(100, 7, 0) !important;
}

.controversial::before,
.controversial::after,
.controversial-hover::before,
.controversial-hover::after {
    cursor: pointer;
}

.pointer {
    cursor: pointer;
}
